name: CI NetSpy ğŸ•µï¸â€â™‚ï¸

# 1. EL DETONADOR: Â¿CuÃ¡ndo trabaja el robot?
# "Cada vez que haga push a la rama main"
on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

# 2. EL TRABAJO: Â¿QuÃ© debe hacer?
jobs:
  # Tarea A: Verificar que el cÃ³digo Go compila
  build-go:
    runs-on: ubuntu-latest # Usamos una compu prestada con Linux
    steps:
    - name: ğŸ“¥ Descargar cÃ³digo
      uses: actions/checkout@v4

    - name: ğŸ¹ Instalar Go
      uses: actions/setup-go@v5
      with:
        go-version: '1.23'

    - name: ğŸ”¨ Compilar
      run: go build -v ./...

  # Tarea B: Verificar que el Dockerfile es vÃ¡lido
  build-docker:
    needs: build-go # Solo corre si la Tarea A pasÃ³ exitosamente
    runs-on: ubuntu-latest
    steps:
    - name: ğŸ“¥ Descargar cÃ³digo
      uses: actions/checkout@v4

    - name: ğŸ³ Construir Imagen Docker
      run: docker build .
